<?php require('template/header.phtml'); ?>
<!-- Chat -->
<div class="main-content d-flex col justify-content-center" style="min-height: 90vh">
    <div class="container mt-auto row">
        <?php if (count($view->conversations) == 0): ?>
            <div class="row">

                <div class="col-md col-sm-1">
                    <h2>Prompts relating to the file to give the ChatBot </h2>
                    <ul>
                        <li>Counting the total number of columns</li>
                        <li>Counting the total number of rows</li>
                        <li>Stating the data "column name" given column</li>
                        <li>Counting the number of blank or non-blank values of a column</li>
                        <li>For number columns, calculating the average, min, max or sum of the column</li>
                        <li>For text columns, calculating the maximum character length</li>
                        <li>Grouping by any column and counting each value</li>
                    </ul>
                </div>

                <div class=" col-md col-sm-1">
                    <h2>Normal prompts to give to the ChatBot</h2>
                    <ul>
                        <li>Square root of "number"</li>
                        <li>give me directions from "city" to "city"</li>
                        <li>Square "number"</li>
                    </ul>
                </div>
            </div>
        <?php endif; ?>

        <?php if (isset($view->conversations)):?>
        <div class="row ">
            <?php foreach ($view->conversations as $msg): ?>
                <small class=" bg-dark w-auto ">You</small>
                <p class="text-center "><?php echo $msg->getPrompt() ?></p>
                <br>
                <small class="justify-content-start bg-dark w-auto">AI</small>
                <p class="text-center "><?php echo $msg->getResponse() ?></p>
                <br>
            <?php endforeach; ?>
        </div>
        <?php endif; ?>
        <form method="post" action="<?php echo $_SERVER['PHP_SELF']?>">
            <div class=" input-group mb-3, row">
                <div class="col-md col-sm-1 p-0">
                    <input class="form-control" type="file" id="myFile" name="filename">
                </div>
                <div class="col-md col-sm-1 d-flex p-0">
                    <input class="form-control w-35" type="text" id="user-input" placeholder="Type your message..." aria-label="Type here" name="chatMsg" value="<?php if (isset($_POST['chatMsg'])){ echo $_POST['chatMsg'];}?>" autocomplete="false" required>
                    <input class="btn btn-outline-secondary" id="submit_button" name="submit" value="Submit" type="submit">
                </div>
            </div>
        </form>
        <?php if($view->callError):?>
        <div class="alert alert-dismissible alert-warning text-center">
            <h4 class="alert-heading">Api Call Error</h4>
            <p class="mb-0">Seems Like There Was An Issue With The Api Call. Please Try Again Later</p>
        </div>
        <?php endif;?>
    </div>
</div>
<?php require('template/footer.phtml') ?>
